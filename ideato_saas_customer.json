{
  "workflow_name": "FROM IDEA \u2192 LIVE SaaS \u2192 CUSTOMER EMAIL (NO HANDS)",
  "description": "Ship a real web app, configure Stripe, deploy to Vercel, and email the customer \u2014 without touching the browser. Requires: gh, Stripe test account, Vercel, Resend, .env with keys.",
  "steps": [
    {
      "id": 1,
      "name": "Initialize Git and push to GitHub",
      "type": "run_command",
      "command": "git init && git add -A && git commit -m 'hello-atlas: shipped by ATLAS' --allow-empty && (gh repo create hello-atlas --private --source=. --push 2>/dev/null || (url=$(gh repo view hello-atlas --json url -q .url) && (git remote add origin \"$url\" 2>/dev/null || git remote set-url origin \"$url\") && (git push -u origin main || ([ "$ALLOW_FORCE_PUSH" = true ] && git push -u origin main --force)))",
      "shell": true,
      "goal": "Initialize git repo and push to GitHub",
      "timeout": 90
    },
    {
      "id": 2,
      "name": "Create Stripe product Atlas Pro $29/mo",
      "type": "run_command",
      "command": "bash scripts/create-stripe-product.sh",
      "shell": true,
      "goal": "Create Stripe product and price via API, save price ID",
      "timeout": 30
    },
    {
      "id": 3,
      "name": "Deploy to Vercel",
      "type": "llm_navigate",
      "goal": "Go to https://vercel.com/new. You should already be logged in. IMPORTANT: Import the repository 'hello-atlas' from YOUR GitHub account \u2014 do NOT click on vercel/examples or any other repo. Use the search box to type 'hello-atlas' if needed, and select the repo that belongs to you. On the project configuration page: keep the project name as 'hello-atlas', verify the framework is detected as Next.js, leave all other settings as default. Click the 'Deploy' button. Then WAIT on the deployment page \u2014 watch the build logs until you see a success message like 'Congratulations' or a production URL. Do NOT click away while the build is running. Once the deployment succeeds, note the production URL. Stop when deployment succeeded and the production URL is visible.",
      "url": "https://vercel.com/new",
      "max_actions": 40,
      "timeout": 300
    },
    {
      "id": 4,
      "name": "Add Stripe env vars to Vercel",
      "type": "run_command",
      "command": "bash scripts/add-vercel-env.sh",
      "shell": true,
      "goal": "Add STRIPE_SECRET_KEY, NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY, STRIPE_PRICE_ID to Vercel project via API",
      "timeout": 30
    },
    {
      "id": 5,
      "name": "Trigger redeploy with new env vars",
      "type": "run_command",
      "command": "git commit -m 'Trigger redeploy for Stripe env' --allow-empty && (git push origin main || ([ \"$ALLOW_FORCE_PUSH\" = true ] && git push origin main --force-with-lease))",
      "shell": true,
      "goal": "Empty commit triggers Vercel to redeploy with new environment variables",
      "timeout": 120
    },
    {
      "id": 6,
      "name": "Set live URL and verify site",
      "type": "run_command",
      "command": "bash scripts/get-vercel-url.sh",
      "shell": true,
      "goal": "Get production URL and save for email step",
      "timeout": 15
    },
    {
      "id": 7,
      "name": "Verify live site and checkout",
      "type": "llm_navigate",
      "continue_on_failure": false,
      "goal": "You will start on the live site. Confirm the page renders with 'ATLAS shipped this' and a 'Buy Atlas Pro' button. Click the 'Buy Atlas Pro' button. You should be redirected to Stripe Checkout. If you see the Stripe payment form, stop. The checkout flow works.",
      "url": "https://vercel.com/dashboard",
      "max_actions": 25,
      "timeout": 120
    },
    {
      "id": 8,
      "name": "Send onboarding email to customer",
      "type": "run_command",
      "command": "bash scripts/send-onboarding-email.sh",
      "shell": true,
      "goal": "Send email with live URL via Resend API",
      "timeout": 15
    },
    {
      "id": 9,
      "name": "Screenshot proof",
      "type": "screenshot",
      "browser": true,
      "goal": "Capture proof of completed deployment"
    }
  ]
}